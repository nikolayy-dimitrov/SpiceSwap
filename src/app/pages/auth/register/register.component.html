<div class="register-container">
  <form (ngSubmit)="register(registerForm)" #registerForm="ngForm" class="register-form">
    <h2>Register</h2>

    <div class="form-group">
      <label for="name">Name:</label>
      <input
        type="text"
        id="name"
        name="name"
        [(ngModel)]="name"
        required
        minlength="3"
        #nameInput="ngModel"
      />
      <div *ngIf="nameInput.invalid && nameInput.touched" class="error">
        Name must be at least 4 characters long.
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="email"
        required
        email
        #emailInput="ngModel"
      />
      <div *ngIf="emailInput.invalid && emailInput.touched" class="error">
        Please enter a valid email.
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password:</label>
      <input
        type="password"
        id="password"
        name="password"
        [(ngModel)]="password"
        required
        minlength="6"
        #passwordInput="ngModel"
      />
      <div *ngIf="passwordInput.invalid && passwordInput.touched" class="error">
        <p>Password must be at least 8 characters long and contain:</p>
        <p>At least one uppercase letter</p>
        <p>At least one lowercase letter</p>
        <p>At least one number</p>
        <p>At least one special character</p>
      </div>
    </div>

    <div *ngIf="errorMessage" class="error global-error">
      {{ errorMessage }}
    </div>

    <button
      type="submit"
      [disabled]="registerForm.invalid || !isFormValid(registerForm)"
    >
      Register
    </button>
  </form>
</div>
